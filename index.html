<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Model SAM - Q&A System</title>
    <meta name="description" content="Advanced AI Question-Answering System powered by TensorFlow.js">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    
    <!-- Your existing styles remain the same -->
    <style>
        /* All your existing CSS styles here - no changes needed */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            --success-color: #4caf50;
            --error-color: #f44336;
            --warning-color: #ff9800;
            --text-dark: #333;
            --text-light: #666;
            --bg-white: rgba(255, 255, 255, 0.95);
            --bg-glass: rgba(255, 255, 255, 0.1);
            --shadow: 0 20px 40px rgba(0,0,0,0.1);
            --border-radius: 15px;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--primary-gradient);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .header h1 {
            font-size: 3em;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            color: rgba(255,255,255,0.9);
            margin-bottom: 20px;
        }

        .main-content {
            background: var(--bg-white);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--bg-glass);
            border-radius: 10px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--error-color);
            animation: pulse 2s infinite;
        }

        .status-dot.online {
            background: var(--success-color);
        }

        .status-dot.loading {
            background: var(--warning-color);
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .model-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: var(--bg-glass);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            display: block;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9em;
            margin-top: 5px;
        }

        .chat-interface {
            margin: 30px 0;
        }

        .input-section {
            margin-bottom: 20px;
        }

        .input-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1em;
        }

        .question-input {
            width: 100%;
            min-height: 120px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.8);
        }

        .question-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: rgba(255,255,255,1);
        }

        .question-input:disabled {
            background: #f5f5f5;
            color: #999;
            cursor: not-allowed;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            flex: 1;
        }

        .btn-secondary {
            background: var(--bg-glass);
            color: var(--text-dark);
            backdrop-filter: blur(5px);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-loading {
            position: relative;
            color: transparent;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .sample-questions {
            margin: 30px 0;
        }

        .sample-questions h3 {
            margin-bottom: 15px;
            color: var(--text-dark);
        }

        .sample-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .sample-chip {
            padding: 10px 16px;
            background: var(--bg-glass);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .sample-chip:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .answer-section {
            margin: 30px 0;
            padding: 25px;
            background: var(--bg-glass);
            border-radius: 12px;
            border-left: 4px solid #667eea;
            backdrop-filter: blur(5px);
            display: none;
        }

        .answer-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .answer-section h3 {
            margin-bottom: 15px;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .answer-text {
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-dark);
            margin-bottom: 15px;
        }

        .answer-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid rgba(0,0,0,0.1);
            font-size: 14px;
            color: var(--text-light);
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 400px;
            word-wrap: break-word;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success { background: var(--success-color); }
        .toast.error { background: var(--error-color); }
        .toast.warning { background: var(--warning-color); }
        .toast.info { background: #2196f3; }

        .footer {
            text-align: center;
            padding: 30px;
            background: var(--bg-glass);
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            color: white;
        }

        .footer a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: white;
        }

        .error-info {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            color: var(--text-dark);
        }

        .error-info h4 {
            color: var(--error-color);
            margin-bottom: 10px;
        }

        .error-info ul {
            margin-left: 20px;
            line-height: 1.6;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2em;
            }

            .main-content {
                padding: 20px;
            }

            .model-stats {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 10px;
            }

            .action-buttons {
                flex-direction: column;
            }

            .sample-chips {
                justify-content: center;
            }

            .toast {
                right: 10px;
                left: 10px;
                max-width: none;
                transform: translateY(-100%);
            }

            .toast.show {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🤖 AI Model SAM</h1>
            <p>Advanced Question-Answering System</p>
            <p>Powered by TensorFlow.js • Trained on 200k+ Q&A pairs</p>
        </header>

        <main class="main-content">
            <div class="status-bar">
                <div class="status-indicator">
                    <div class="status-dot" id="status-dot"></div>
                    <span id="status-text">Initializing AI Model...</span>
                </div>
                <div id="model-version">v1.0</div>
            </div>

            <div id="error-info" class="error-info" style="display: none;">
                <h4>⚠️ Model Loading Issue</h4>
                <p>The AI model files couldn't be loaded. This might be because:</p>
                <ul>
                    <li>You're running this locally (CORS policy)</li>
                    <li>The model files don't exist on GitHub Pages yet</li>
                    <li>Network connectivity issues</li>
                </ul>
                <p><strong>Solutions:</strong></p>
                <ul>
                    <li>Upload your trained model files to GitHub</li>
                    <li>Deploy this HTML file to GitHub Pages</li>
                    <li>Or try the demo mode below</li>
                </ul>
            </div>

            <div class="model-stats" id="model-stats">
                <div class="stat-card">
                    <span class="stat-value" id="accuracy-stat">--</span>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="vocab-stat">--</span>
                    <div class="stat-label">Vocabulary</div>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="response-time">--</span>
                    <div class="stat-label">Avg Response</div>
                </div>
                <div class="stat-card">
                    <span class="stat-value" id="model-size">--</span>
                    <div class="stat-label">Model Size</div>
                </div>
            </div>

            <div class="chat-interface">
                <div class="input-section">
                    <label for="question-input">Ask me anything:</label>
                    <textarea 
                        id="question-input" 
                        class="question-input" 
                        placeholder="Loading AI model... Please wait."
                        disabled
                        maxlength="500"
                    ></textarea>
                </div>

                <div class="action-buttons">
                    <button id="ask-button" class="btn btn-primary" disabled>
                        Ask Question
                    </button>
                    <button id="clear-button" class="btn btn-secondary">
                        Clear
                    </button>
                </div>

                <div class="sample-questions">
                    <h3>💡 Try these sample questions:</h3>
                    <div class="sample-chips">
                        <div class="sample-chip">What is artificial intelligence?</div>
                        <div class="sample-chip">How does machine learning work?</div>
                        <div class="sample-chip">Explain deep learning</div>
                        <div class="sample-chip">What are neural networks?</div>
                        <div class="sample-chip">Define natural language processing</div>
                        <div class="sample-chip">How do chatbots work?</div>
                    </div>
                </div>

                <div id="answer-section" class="answer-section">
                    <h3>💬 AI Response</h3>
                    <div id="answer-text" class="answer-text"></div>
                    <div class="answer-meta">
                        <span id="confidence-score">Confidence: --</span>
                        <span id="response-time-display">Response time: --</span>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>
                Built with ❤️ using TensorFlow.js | 
                <a href="https://github.com/Sabir-Ali-Mondal/AI-MODEL-SAM" target="_blank">
                    View on GitHub
                </a>
            </p>
        </footer>
    </div>

    <script>
        class AIModelSAM {
            constructor() {
                // Detect if running locally or on GitHub Pages
                this.isLocal = window.location.protocol === 'file:' || 
                              window.location.hostname === 'localhost' || 
                              window.location.hostname === '127.0.0.1';
                
                // Use different URLs based on environment
                if (this.isLocal) {
                    // For local testing - try relative paths first
                    this.modelUrl = './final_web_model/model.json';
                    this.tokenizerUrl = './final_tokenizer.json';
                } else {
                    // For GitHub Pages
                    this.modelUrl = 'https://sabir-ali-mondal.github.io/AI-MODEL-SAM/final_web_model/model.json';
                    this.tokenizerUrl = 'https://sabir-ali-mondal.github.io/AI-MODEL-SAM/final_tokenizer.json';
                }
                
                this.model = null;
                this.tokenizer = null;
                this.isLoaded = false;
                this.maxLen = 50;
                this.vocabSize = 5000;
                this.averageResponseTime = 0;
                this.requestCount = 0;
                this.demoMode = false;
            }

            async load() {
                try {
                    this.updateStatus('Loading AI model...', 'loading');
                    
                    // Try to load tokenizer first
                    await this.loadTokenizer();
                    
                    this.updateStatus('Loading neural network...', 'loading');
                    
                    // Try to load model
                    await this.loadModel();
                    
                    this.isLoaded = true;
                    this.updateStatus('AI Model Ready', 'online');
                    this.updateModelStats();
                    this.enableInterface();
                    
                    this.showToast('AI Model loaded successfully!', 'success');
                    return true;
                    
                } catch (error) {
                    console.error('Model loading failed:', error);
                    this.handleLoadingError(error);
                    return false;
                }
            }

            async loadTokenizer() {
                const urls = [
                    this.tokenizerUrl,
                    // Fallback URLs
                    './final_tokenizer.json',
                    './tokenizer.json',
                    './proper_tokenizer.json'
                ];

                for (const url of urls) {
                    try {
                        console.log(`Trying tokenizer URL: ${url}`);
                        const response = await fetch(url);
                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }
                        this.tokenizer = await response.json();
                        console.log('✅ Tokenizer loaded from:', url);
                        return;
                    } catch (error) {
                        console.log(`❌ Failed to load tokenizer from ${url}:`, error.message);
                        continue;
                    }
                }
                
                throw new Error('Could not load tokenizer from any URL');
            }

            async loadModel() {
                const urls = [
                    this.modelUrl,
                    // Fallback URLs
                    './final_web_model/model.json',
                    './web_model/model.json',
                    './proper_web_model/model.json'
                ];

                for (const url of urls) {
                    try {
                        console.log(`Trying model URL: ${url}`);
                        this.model = await tf.loadLayersModel(url);
                        console.log('✅ Model loaded from:', url);
                        return;
                    } catch (error) {
                        console.log(`❌ Failed to load model from ${url}:`, error.message);
                        continue;
                    }
                }
                
                throw new Error('Could not load model from any URL');
            }

            handleLoadingError(error) {
                this.updateStatus('Model Load Failed - Demo Mode', 'error');
                this.demoMode = true;
                
                // Show error information
                const errorInfo = document.getElementById('error-info');
                if (errorInfo) {
                    errorInfo.style.display = 'block';
                }
                
                // Enable demo mode
                this.enableDemoMode();
                
                this.showToast('Model loading failed. Running in demo mode.', 'warning', 5000);
            }

            enableDemoMode() {
                const questionInput = document.getElementById('question-input');
                const askButton = document.getElementById('ask-button');
                
                questionInput.disabled = false;
                questionInput.placeholder = 'Demo Mode: Ask me anything... (responses are simulated)';
                askButton.disabled = false;
                
                // Show demo stats
                document.getElementById('accuracy-stat').textContent = 'Demo';
                document.getElementById('vocab-stat').textContent = '5K';
                document.getElementById('model-size').textContent = 'N/A';
                document.getElementById('response-time').textContent = 'Fast';
            }

            updateStatus(text, type) {
                const statusText = document.getElementById('status-text');
                const statusDot = document.getElementById('status-dot');
                
                statusText.textContent = text;
                statusDot.className = `status-dot ${type}`;
            }

            updateModelStats() {
                document.getElementById('accuracy-stat').textContent = '71.4%';
                document.getElementById('vocab-stat').textContent = this.vocabSize.toLocaleString();
                document.getElementById('model-size').textContent = '~20MB';
                document.getElementById('response-time').textContent = 
                    this.averageResponseTime > 0 ? `${this.averageResponseTime}ms` : '<1s';
            }

            enableInterface() {
                const questionInput = document.getElementById('question-input');
                const askButton = document.getElementById('ask-button');
                
                questionInput.disabled = false;
                questionInput.placeholder = 'Ask me anything... (max 500 characters)';
                askButton.disabled = false;
            }

            tokenize(text) {
                if (!this.tokenizer || this.demoMode) {
                    // Simple fallback tokenization for demo mode
                    return text.toLowerCase().split(' ').slice(0, this.maxLen);
                }

                const words = text.toLowerCase().trim().split(/\s+/);
                const sequence = [];
                
                for (const word of words) {
                    const index = this.tokenizer.word_index[word] || 
                                 this.tokenizer.word_index['<OOV>'] || 1;
                    sequence.push(index);
                }
                
                // Pad to max length
                while (sequence.length < this.maxLen) {
                    sequence.push(0);
                }
                
                return sequence.slice(0, this.maxLen);
            }

            detokenize(sequence) {
                if (!this.tokenizer || this.demoMode) {
                    return "This is a demo response. Please upload your trained model files to GitHub Pages for real AI responses.";
                }

                const indexToWord = {};
                for (const [word, index] of Object.entries(this.tokenizer.word_index)) {
                    indexToWord[index] = word;
                }
                
                const words = [];
                for (const index of sequence) {
                    if (index > 0 && indexToWord[index] && indexToWord[index] !== '<OOV>') {
                        words.push(indexToWord[index]);
                    }
                }
                
                return words.join(' ').trim();
            }

            async predict(question) {
                const startTime = performance.now();
                
                if (this.demoMode) {
                    // Demo mode responses
                    return this.generateDemoResponse(question, startTime);
                }

                if (!this.isLoaded) {
                    throw new Error('Model not loaded');
                }

                try {
                    // Tokenize input
                    const inputSequence = this.tokenize(question);
                    const inputTensor = tf.tensor2d([inputSequence], [1, this.maxLen]);

                    // Make prediction
                    const prediction = this.model.predict(inputTensor);
                    const predictionData = await prediction.data();

                    // Convert prediction to answer
                    const answerSequence = [];
                    for (let i = 0; i < this.maxLen; i++) {
                        const startIdx = i * this.tokenizer.vocab_size;
                        const endIdx = startIdx + this.tokenizer.vocab_size;
                        const tokenProbs = Array.from(predictionData.slice(startIdx, endIdx));
                        const maxIdx = tokenProbs.indexOf(Math.max(...tokenProbs));
                        answerSequence.push(maxIdx);
                    }

                    const answer = this.detokenize(answerSequence);
                    const responseTime = Math.round(performance.now() - startTime);

                    // Update stats
                    this.requestCount++;
                    this.averageResponseTime = Math.round(
                        (this.averageResponseTime * (this.requestCount - 1) + responseTime) / this.requestCount
                    );
                    this.updateModelStats();

                    // Cleanup
                    inputTensor.dispose();
                    prediction.dispose();

                    return {
                        answer: answer || "I couldn't generate a meaningful answer for that question. Please try rephrasing it.",
                        confidence: 71.4,
                        responseTime: responseTime
                    };

                } catch (error) {
                    console.error('Prediction error:', error);
                    throw error;
                }
            }

            generateDemoResponse(question, startTime) {
                const demoResponses = {
                    'artificial intelligence': "Artificial Intelligence (AI) is a branch of computer science that aims to create intelligent machines that can perform tasks typically requiring human intelligence, such as learning, reasoning, and problem-solving.",
                    'machine learning': "Machine Learning is a subset of AI that enables computers to learn and improve from experience without being explicitly programmed. It uses algorithms to find patterns in data and make predictions.",
                    'deep learning': "Deep Learning is a subset of machine learning that uses neural networks with multiple layers (hence 'deep') to model and understand complex patterns in data, similar to how the human brain processes information.",
                    'neural networks': "Neural Networks are computing systems inspired by biological neural networks. They consist of interconnected nodes (neurons) that process information and learn patterns through training on data.",
                    'natural language processing': "Natural Language Processing (NLP) is a field of AI that focuses on the interaction between computers and human language, enabling machines to understand, interpret, and generate human language.",
                    'chatbots': "Chatbots are AI programs designed to simulate human conversation through text or voice interactions. They use NLP and machine learning to understand user queries and provide appropriate responses."
                };

                // Find relevant response
                let response = "Thank you for your question! In demo mode, I can provide basic information about AI topics. For detailed, trained responses, please deploy the actual model files to GitHub Pages.";
                
                const lowerQuestion = question.toLowerCase();
                for (const [key, value] of Object.entries(demoResponses)) {
                    if (lowerQuestion.includes(key)) {
                        response = value + " (Demo Mode Response)";
                        break;
                    }
                }

                const responseTime = Math.round(performance.now() - startTime);

                return {
                    answer: response,
                    confidence: 85.0,
                    responseTime: responseTime
                };
            }

            showToast(message, type, duration = 3000) {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                document.body.appendChild(toast);
                
                setTimeout(() => toast.classList.add('show'), 100);
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, duration);
            }
        }

        // Initialize AI Model
        const aiModel = new AIModelSAM();

        // DOM Elements
        const questionInput = document.getElementById('question-input');
        const askButton = document.getElementById('ask-button');
        const clearButton = document.getElementById('clear-button');
        const answerSection = document.getElementById('answer-section');
        const answerText = document.getElementById('answer-text');
        const confidenceScore = document.getElementById('confidence-score');
        const responseTimeDisplay = document.getElementById('response-time-display');

        // Load model on page load
        window.addEventListener('load', async () => {
            await aiModel.load();
        });

        // Handle question submission
        async function askQuestion() {
            const question = questionInput.value.trim();
            
            if (!question) {
                aiModel.showToast('Please enter a question', 'warning');
                return;
            }

            if (question.length > 500) {
                aiModel.showToast('Question too long. Maximum 500 characters.', 'warning');
                return;
            }

            // Show loading state
            askButton.disabled = true;
            askButton.classList.add('btn-loading');
            answerSection.classList.remove('show');

            try {
                const result = await aiModel.predict(question);
                
                // Show answer with animation
                answerText.textContent = result.answer;
                confidenceScore.textContent = `Confidence: ${result.confidence}%`;
                responseTimeDisplay.textContent = `Response time: ${result.responseTime}ms`;
                
                answerSection.classList.add('show');
                
                // Clear input
                questionInput.value = '';

            } catch (error) {
                console.error('Prediction failed:', error);
                aiModel.showToast('Failed to get answer. Please try again.', 'error');
            } finally {
                // Reset button
                askButton.disabled = false;
                askButton.classList.remove('btn-loading');
            }
        }

        function clearChat() {
            questionInput.value = '';
            answerSection.classList.remove('show');
            questionInput.focus();
        }

        // Event listeners
        askButton.addEventListener('click', askQuestion);
        clearButton.addEventListener('click', clearChat);

        questionInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                askQuestion();
            }
        });

        // Character counter
        questionInput.addEventListener('input', (e) => {
            const remaining = 500 - e.target.value.length;
            if (remaining < 50) {
                console.log(`Characters remaining: ${remaining}`);
            }
        });

        // Sample questions
        document.querySelectorAll('.sample-chip').forEach(chip => {
            chip.addEventListener('click', () => {
                questionInput.value = chip.textContent;
                askQuestion();
            });
        });

        // Auto-resize textarea
        questionInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 200) + 'px';
        });
    </script>
</body>
</html>
